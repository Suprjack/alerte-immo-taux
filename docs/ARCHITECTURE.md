# ğŸ—ï¸ ARCHITECTURE TECHNIQUE

## Vue d'Ensemble

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GITHUB ACTIONS                                â”‚
â”‚                    (Cron 08h + 19h Paris)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SCRAPER.PY                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Google News â”‚ â”‚  OAT/Euriborâ”‚ â”‚Google Trendsâ”‚ â”‚Sources Offi.â”‚   â”‚
â”‚  â”‚   (RSS)     â”‚ â”‚   (APIs)    â”‚ â”‚ (pytrends)  â”‚ â”‚(Serv-Public)â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚               â”‚               â”‚               â”‚           â”‚
â”‚         â–¼               â–¼               â–¼               â–¼           â”‚
â”‚     news.json      rates.json     trends.json    official.json     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CHART_GENERATOR.PY                               â”‚
â”‚           GÃ©nÃ¨re les graphiques PNG (matplotlib)                     â”‚
â”‚                                                                      â”‚
â”‚         oat-30-jours.png    taux-comparaison.png                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        REWRITER.PY                                   â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    GEMINI 2.5 FLASH                          â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  Inputs:                    Outputs:                         â”‚   â”‚
â”‚  â”‚  - rates.json               - Article Markdown               â”‚   â”‚
â”‚  â”‚  - news.json                - CTA dynamique (â†‘â†“â†’)            â”‚   â”‚
â”‚  â”‚  - trends.json              - Liens internes auto            â”‚   â”‚
â”‚  â”‚  - official.json            - Breakout keyword intÃ©grÃ©       â”‚   â”‚
â”‚  â”‚  - Persona "L'Insider"                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚         â†’ content/articles/2024-11-30-am.md                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         NEXT.JS 14                                   â”‚
â”‚                      (Static Export)                                 â”‚
â”‚                                                                      â”‚
â”‚  src/app/                                                           â”‚
â”‚  â”œâ”€â”€ page.js           â†’ Homepage (derniers articles)               â”‚
â”‚  â”œâ”€â”€ layout.js         â†’ Header + Ticker taux temps rÃ©el            â”‚
â”‚  â”œâ”€â”€ calculateur/      â†’ Page lead gen (simulateur)                 â”‚
â”‚  â””â”€â”€ [...slug]/        â†’ Pages dynamiques (articles + pSEO)         â”‚
â”‚                                                                      â”‚
â”‚  â†’ Build: npm run build â†’ /out/                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          NETLIFY                                     â”‚
â”‚                                                                      â”‚
â”‚  - Auto-deploy on git push                                          â”‚
â”‚  - CDN mondial                                                       â”‚
â”‚  - HTTPS automatique                                                â”‚
â”‚  - URL: https://alerte-immo-taux.netlify.app                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Structure des Fichiers

```
alerte_immo_taux/
â”‚
â”œâ”€â”€ ğŸ“‚ .github/workflows/          # Automatisation
â”‚   â”œâ”€â”€ morning-flash.yml          # Cron 08h00 Paris
â”‚   â””â”€â”€ evening-recap.yml          # Cron 19h00 Paris
â”‚
â”œâ”€â”€ ğŸ“‚ scripts/                    # Backend Python
â”‚   â”œâ”€â”€ scraper.py                 # Collecte donnÃ©es
â”‚   â”œâ”€â”€ rewriter.py                # GÃ©nÃ©ration Gemini
â”‚   â”œâ”€â”€ chart_generator.py         # Graphiques PNG
â”‚   â””â”€â”€ requirements.txt           # DÃ©pendances Python
â”‚
â”œâ”€â”€ ğŸ“‚ src/app/                    # Frontend Next.js
â”‚   â”œâ”€â”€ page.js                    # Homepage
â”‚   â”œâ”€â”€ layout.js                  # Layout global
â”‚   â”œâ”€â”€ globals.css                # Styles
â”‚   â”œâ”€â”€ calculateur/page.js        # Lead gen
â”‚   â””â”€â”€ [...slug]/page.js          # Routes dynamiques
â”‚
â”œâ”€â”€ ğŸ“‚ content/                    # Contenu Markdown
â”‚   â”œâ”€â”€ articles/                  # Articles auto-gÃ©nÃ©rÃ©s
â”‚   â””â”€â”€ pseo/                      # Pages SEO locales
â”‚
â”œâ”€â”€ ğŸ“‚ data/                       # DonnÃ©es JSON
â”‚   â”œâ”€â”€ rates.json                 # Taux actuels
â”‚   â”œâ”€â”€ news.json                  # News scrapÃ©es
â”‚   â”œâ”€â”€ trends.json                # Google Trends
â”‚   â””â”€â”€ official.json              # Sources officielles
â”‚
â”œâ”€â”€ ğŸ“‚ public/images/charts/       # Graphiques gÃ©nÃ©rÃ©s
â”‚
â”œâ”€â”€ ğŸ“‚ docs/                       # Documentation
â”‚
â”œâ”€â”€ next.config.js                 # Config Next.js
â”œâ”€â”€ netlify.toml                   # Config Netlify
â””â”€â”€ package.json                   # DÃ©pendances Node
```

---

## ğŸ”§ Technologies

| Composant | Technologie | Pourquoi |
|-----------|-------------|----------|
| Frontend | Next.js 14 | SSG, performance, SEO |
| Styling | Tailwind CSS | Rapid prototyping |
| Backend | Python 3.11 | Scraping, ML libs |
| AI | Gemini 2.5 Flash | Gratuit, rapide |
| Trends | pytrends | Google Trends API |
| Charts | matplotlib | Graphiques PNG |
| CI/CD | GitHub Actions | Gratuit, puissant |
| Hosting | Netlify | Gratuit, CDN global |
| Domain | (Ã  configurer) | Netlify DNS |

---

## ğŸ” Secrets & Config

### GitHub Secrets (Settings â†’ Secrets)
```
GEMINI_API_KEY = "AIza..."
```

### Variables d'environnement Netlify
```
NODE_VERSION = 18
```

---

*DerniÃ¨re mise Ã  jour: 30/11/2024*

